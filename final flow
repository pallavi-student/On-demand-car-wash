Complete Flow (Normal One-Liner Points)
User Registration / Login

Customer logs in or registers â†’ JWT token is issued for secure communication.

Add Car

Customer adds car details â†’ Car gets saved to the database.

Book Wash

Customer books a wash request â†’ Order status becomes PENDING.

ðŸ“¤ Event sent to RabbitMQ: order.created

Auto Washer Assignment

Cron job runs periodically â†’ Assigns available washer to PENDING orders.

Order status becomes ASSIGNED.

ðŸ“¤ Event sent: order.assigned

Washer Accepts or Rejects Order

Washer accepts â†’ Order status becomes ACCEPTED.
ðŸ“¤ Event sent: washer.accepted

Washer rejects â†’ Order stays PENDING.
ðŸ“¤ Event sent: washer.rejected

Invoice Generation by Washer

Washer generates invoice for the order.

Invoice details and payment info saved.

ðŸ“¤ Event sent: washer.invoice_generated

Payment Processing by Customer (Stripe)

Customer clicks "Pay" â†’ Stripe PaymentIntent is created.

Payment status set as PENDING.

ðŸ“¤ Event sent: payment.processed

Payment Confirmation (Stripe)

Stripe confirms payment â†’ Status updated to SUCCESS or FAILED.

If successful, Order status becomes COMPLETED.

ðŸ“¤ Event sent: payment.confirmed or payment.failed

Notification Logging (RabbitMQ Listener)

NotificationService listens to events via notifications.queue.

Console logs show proper messages for each event (e.g., order assigned, payment confirmed, etc.).
